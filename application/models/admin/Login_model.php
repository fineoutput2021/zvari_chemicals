<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');/* * Author : Rishi Shrivastava * Description : This model is used for login Process */class login_model extends CI_Model{	function __construct()	{		parent::__construct();	}
	//This function is used to validate admin login	public function validate($data)	{		$user_email=$data['user_email'];		$password=$data['user_password'];		$this->db->select('*');		$this->db->where('user_email',$user_email);		$this->db->where('user_password',md5($password));		$this->db->where('is_active',1);		$this->db->from('tbl_users');		$query=$this->db->get();		if($query->num_rows == 1)		{			$row=$query->row();			$login_user=array('user_id' => $row->user_id,							   'user_email' => $row->user_email,							   'user_name' => $row->user_name,							   'user_role' => $row->user_role,                               'is_active' => $row->is_active,							   'pwd_2'=>$row->pwd_2							   );							   			$this->session->set_userdata(ADMIN_SESSIONS,$login_user);			return true;							}	return false;}
//Log out Function/*	public function make_logout()	{		$user_data=$this->session->userdata('logged_in');		$user_name=$user_data['user_name'];		$cur_time=date('Y/m/d H:i:s');		$edit_data = array(               'user_lastlogin' => $cur_time                           );
		$this->db->where('user_name', $user_name);		if($this->db->update('tbl_user', $edit_data))		{			return true;		}		else		{			return false;		}	}
*/	
}